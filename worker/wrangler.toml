name = "oddswize-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespaces for data storage
[[kv_namespaces]]
binding = "ODDS_CACHE"
id = "82597e0ef01149c4833c16b81d20cdb9"  # Replace after running: wrangler kv:namespace create ODDS_CACHE

[[kv_namespaces]]
binding = "MATCHES_DATA"
id = "588e09922459414e954fafc77ba5f15d"  # Replace after running: wrangler kv:namespace create MATCHES_DATA

# Environment variables
[vars]
ENVIRONMENT = "production"
CORS_ORIGIN = "*"

# Secrets (set via: wrangler secret put API_SECRET)
# API_SECRET = "your-secret-key" (use wrangler secret put)

# Development settings
[env.dev]
name = "oddswize-api-dev"
[env.dev.vars]
ENVIRONMENT = "development"
CORS_ORIGIN = "*"

# Scheduled triggers for data refresh
[triggers]
crons = ["*/15 * * * *"]  # Every 15 minutes
